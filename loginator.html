<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Login & Calculator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      height: 100vh;
      background: linear-gradient(135deg, #0a4c5a, #2a9d8f); /* gradient background */
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .container {
      display: flex;
      width: 850px;
      height: 520px;
      box-shadow: 0 0 20px rgba(0,0,0,0.3);
      background: white;
      border-radius: 10px;
      overflow: hidden;
      transition: all 0.3s ease;
    }

    .container.calculator-mode {
      width: 950px;
      height: 650px;
    }

    .left-panel {
      width: 40%;
      background-color: #0a4c5a;
      color: white;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
    }

    .left-panel img {
      width: 180px;
      margin-bottom: 30px;
    }

    .right-panel {
      width: 60%;
      padding: 40px;
      position: relative;
      display: flex;
      flex-direction: column;
    }

    h2 {
      color: #0a4c5a;
      margin-bottom: 20px;
    }

    .welcome-msg {
      font-size: 18px;
      margin-bottom: 10px;
      font-weight: bold;
      text-align: center;
    }

    form {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .input-group {
      position: relative;
      display: flex;
      align-items: center;
    }

    input {
      width: 100%;
      padding: 12px;
      border: 1px solid #ccc;
      border-radius: 5px;
      height: 45px;
      box-sizing: border-box;
      font-size: 14px;
    }

    .input-group input:focus {
      outline: 2px solid #0a4c5a;
    }

    /* Tooltip */
    .tooltip {
      position: relative;
      display: inline-block;
      width: 100%;
    }

    .tooltip .tooltip-text {
      visibility: hidden;
      background-color: #333;
      color: #fff;
      text-align: left;
      padding: 6px 8px;
      border-radius: 4px;
      position: absolute;
      z-index: 1;
      bottom: 110%;
      left: 5px;
      opacity: 0;
      transition: opacity 0.2s;
      font-size: 12px;
      width: max-content;
      max-width: 250px;
    }

    .tooltip:hover .tooltip-text {
      visibility: visible;
      opacity: 1;
    }

    .error-msg {
      color: red;
      font-size: 12px;
      margin-top: -8px;
      display: none;
    }

    .eye {
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      cursor: pointer;
      font-size: 16px;
      color: #444;
    }

    .checkbox-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 14px;
    }

    .checkbox-inline {
      display: flex;
      align-items: center;
      gap: 6px;
      cursor: pointer;
    }

    .checkbox-inline input[type="checkbox"] {
      width: 16px;
      height: 16px;
      cursor: pointer;
    }

    button {
      padding: 12px;
      background-color: #0a4c5a;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
      height: 45px;
    }

    button:hover {
      background-color: #066377;
    }

    .hidden {
      display: none;
    }

    .link {
      font-size: 14px;
      text-align: center;
      margin-top: 10px;
    }

    .link a {
      color: #0a4c5a;
      font-weight: bold;
      text-decoration: none;
    }

    /* Calculator */
    .calculator {
      text-align: center;
      margin-top: 10px;
      flex-grow: 1;
    }

    #result {
      width: 100%;
      padding: 15px;
      font-size: 20px;
      border-radius: 5px;
      border: 1px solid #ccc;
      height: 55px;
      margin-bottom: 15px;
      box-sizing: border-box;
    }

    .buttons {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
    }

    .buttons button {
      padding: 20px;
      font-size: 18px;
      border-radius: 5px;
      background: #0a4c5a;
      color: white;
      border: none;
      cursor: pointer;
      height: 60px;
    }

    .buttons button:hover {
      background: #066377;
    }

    .buttons button.equal {
      grid-row: span 3;
      height: 100%;
    }

    /* Logout bottom-right */
    .logout-container {
      margin-top: auto;
      text-align: right;
      padding-top: 20px;
    }

    .logout-container a {
      display: inline-block;
      padding: 10px 18px;
      background: #e63946;
      color: white;
      font-weight: bold;
      border-radius: 6px;
      text-decoration: none;
      transition: background 0.3s;
    }

    .logout-container a:hover {
      background: #d62828;
    }

    /* Modal */
    .modal-overlay {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.6);
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }

    .modal {
      background: white;
      padding: 20px;
      border-radius: 10px;
      width: 350px;
      text-align: center;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
      animation: fadeIn 0.3s ease;
    }

    .modal h3 {
      margin: 0 0 10px;
      color: #0a4c5a;
    }

    .modal p {
      margin-bottom: 20px;
      font-size: 14px;
      color: #333;
    }

    .modal button {
      background: #0a4c5a;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
    }

    .modal button:hover {
      background: #066377;
    }

    @keyframes fadeIn {
      from {opacity: 0; transform: scale(0.9);}
      to {opacity: 1; transform: scale(1);}
    }
  </style>
</head>
<body>
<div class="container">

  <!-- LEFT PANEL -->
  <div class="left-panel">
    <img src="logo.png" alt="Logo">
    <h1>LOGINATOR</h1>
  </div>

  <!-- RIGHT PANEL -->
  <div class="right-panel">

    <!-- LOGIN SECTION -->
    <div id="loginSection">
      <div class="welcome-msg">Hi, Welcome üëã</div>
      <h2>LOGIN</h2>
      <form id="loginForm" novalidate>
        <div class="tooltip">
          <input type="email" id="loginEmail" placeholder="Enter email" required>
          <span class="tooltip-text">Enter a valid email address (e.g. name@example.com)</span>
        </div>
        <span class="error-msg" id="loginEmailError">Please enter a valid email address.</span>

        <div class="tooltip input-group">
          <input type="password" id="loginPassword" placeholder="Enter password" required>
          <span class="tooltip-text">Enter your account password.</span>
          <span class="eye" onclick="togglePassword('loginPassword', this)">üëÅ</span>
        </div>

        <div class="checkbox-row">
          <label class="checkbox-inline"><input type="checkbox"> Remember me</label>
          <a href="#" onclick="forgotPassword()" style="color:red">Forgot password?</a>
        </div>

        <button type="submit">Login</button>
      </form>
      <div class="link">Don‚Äôt have an account? <a href="#" onclick="showSection('signupSection')">Sign Up</a></div>
    </div>

    <!-- SIGNUP SECTION -->
    <div id="signupSection" class="hidden">
      <div class="welcome-msg">Create Your Account ‚ú®</div>
      <h2>SIGN UP</h2>
      <form id="signupForm" novalidate>
        <div class="tooltip">
          <input type="text" id="signupName" placeholder="Enter your username" required>
          <span class="tooltip-text">Enter your full name or preferred username.</span>
        </div>
        <span class="error-msg" id="signupNameError">Please enter your username.</span>

        <div class="tooltip">
          <input type="email" id="signupEmail" placeholder="Enter your email" required>
          <span class="tooltip-text">Enter a valid email address (e.g. name@example.com)</span>
        </div>
        <span class="error-msg" id="signupEmailError">Please enter a valid email address.</span>

        <div class="tooltip">
          <input type="tel" id="signupPhone" placeholder="Enter your phone number" maxlength="11" required>
          <span class="tooltip-text">Enter a valid PH mobile number (must start with 09 and be 11 digits).</span>
        </div>
        <span class="error-msg" id="signupPhoneError">Phone number must start with 09 and be exactly 11 digits.</span>

        <div class="tooltip input-group">
          <input type="password" id="signupPassword" placeholder="Enter password" required>
          <span class="tooltip-text">Password must contain uppercase, lowercase, number, symbol, and be at least 8 characters long.</span>
          <span class="eye" onclick="togglePassword('signupPassword', this)">üëÅ</span>
        </div>
        <span class="error-msg" id="signupPasswordError">Password does not meet requirements.</span>

        <div class="tooltip input-group">
          <input type="password" id="signupConfirm" placeholder="Confirm password" required>
          <span class="tooltip-text">Re-enter the same password as above.</span>
          <span class="eye" onclick="togglePassword('signupConfirm', this)">üëÅ</span>
        </div>
        <span class="error-msg" id="signupConfirmError">Passwords do not match.</span>

        <button type="submit">Create Account</button>
      </form>
      <div class="link">Already have an account? <a href="#" onclick="showSection('loginSection')">Login</a></div>
    </div>

    <!-- CALCULATOR SECTION -->
    <div id="calculatorSection" class="hidden">
      <div class="welcome-msg" id="calcWelcome">Welcome, User üßÆ</div>
      <h2>Calculator</h2>
      <div class="calculator">
        <input type="text" id="result" disabled>
        <div class="buttons">
          <button onclick="clearResult()">C</button>
          <button onclick="appendValue('/')">√∑</button>
          <button onclick="appendValue('*')">√ó</button>
          <button onclick="appendValue('-')">‚àí</button>
          <button onclick="appendValue('7')">7</button>
          <button onclick="appendValue('8')">8</button>
          <button onclick="appendValue('9')">9</button>
          <button onclick="appendValue('+')">+</button>
          <button onclick="appendValue('4')">4</button>
          <button onclick="appendValue('5')">5</button>
          <button onclick="appendValue('6')">6</button>
          <button onclick="calculateResult()" class="equal">=</button>
          <button onclick="appendValue('1')">1</button>
          <button onclick="appendValue('2')">2</button>
          <button onclick="appendValue('3')">3</button>
          <button onclick="appendValue('0')" style="grid-column: span 2;">0</button>
          <button onclick="appendValue('.')">.</button>
        </div>
      </div>
      <div class="logout-container">
        <a href="#" onclick="logout()">Logout</a>
      </div>
    </div>
  </div>
</div>

<!-- MODAL -->
<div id="modalOverlay" class="modal-overlay">
  <div class="modal">
    <h3 id="modalTitle">Message</h3>
    <p id="modalMessage">This is a message.</p>
    <button onclick="closeModal()">OK</button>
  </div>
</div>

<script>
  // Section switch
  function showSection(sectionId) {
    document.getElementById('loginSection').classList.add('hidden');
    document.getElementById('signupSection').classList.add('hidden');
    document.getElementById('calculatorSection').classList.add('hidden');

    document.getElementById(sectionId).classList.remove('hidden');

    const container = document.querySelector('.container');
    if (sectionId === 'calculatorSection') {
      container.classList.add('calculator-mode');
    } else {
      container.classList.remove('calculator-mode');
    }
  }

  // Toggle password
  function togglePassword(inputId, eye) {
    const input = document.getElementById(inputId);
    if (input.type === "password") {
      input.type = "text";
      eye.textContent = "üôà";
    } else {
      input.type = "password";
      eye.textContent = "üëÅ";
    }
  }

  // Validators
  function isValidPassword(pwd) {
    const regex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\W_]).{8,}$/;
    return regex.test(pwd);
  }
  function isValidEmail(email) {
    return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
  }
  function isValidPhone(phone) {
    return /^09\d{9}$/.test(phone); // must start with 09 + 9 digits
  }

  // Restrict phone input to numbers only
  const phoneInput = document.getElementById('signupPhone');
  phoneInput.addEventListener("input", function () {
    this.value = this.value.replace(/\D/g, ""); // remove non-digits immediately
    if (this.value.length > 11) {
      this.value = this.value.slice(0, 11); // limit to 11 digits
    }
  });

  // Modal
  function showModal(title, message) {
    document.getElementById('modalTitle').innerText = title;
    document.getElementById('modalMessage').innerText = message;
    document.getElementById('modalOverlay').style.display = "flex";
  }
  function closeModal() {
    document.getElementById('modalOverlay').style.display = "none";
  }

  // Forgot password
  function forgotPassword() {
    showModal("Forgot Password", "Password reset functionality is not available yet.");
  }

  // Signup
  document.getElementById('signupForm').addEventListener('submit', function(e) {
    e.preventDefault();

    const name = document.getElementById('signupName').value.trim();
    const email = document.getElementById('signupEmail').value.trim();
    const phone = document.getElementById('signupPhone').value.trim();
    const password = document.getElementById('signupPassword').value;
    const confirm = document.getElementById('signupConfirm').value;

    let valid = true;

    if (!name) { document.getElementById('signupNameError').style.display = "block"; valid = false; }
    else { document.getElementById('signupNameError').style.display = "none"; }

    if (!isValidEmail(email)) { document.getElementById('signupEmailError').style.display = "block"; valid = false; }
    else { document.getElementById('signupEmailError').style.display = "none"; }

    if (!isValidPhone(phone)) { 
      document.getElementById('signupPhoneError').innerText = "Phone number must start with 09 and be exactly 11 digits.";
      document.getElementById('signupPhoneError').style.display = "block"; 
      valid = false; 
    } else { 
      document.getElementById('signupPhoneError').style.display = "none"; 
    }

    if (!isValidPassword(password)) { document.getElementById('signupPasswordError').style.display = "block"; valid = false; }
    else { document.getElementById('signupPasswordError').style.display = "none"; }

    if (password !== confirm) { document.getElementById('signupConfirmError').style.display = "block"; valid = false; }
    else { document.getElementById('signupConfirmError').style.display = "none"; }

    if (valid) {
      localStorage.setItem('user', JSON.stringify({ name, email, phone, password }));
      showModal("Account Created", "Your account has been created successfully. Please login.");
      showSection('loginSection');
    }
  });

  // Login
  document.getElementById('loginForm').addEventListener('submit', function(e) {
    e.preventDefault();

    const email = document.getElementById('loginEmail').value.trim();
    const password = document.getElementById('loginPassword').value;
    const storedUser = JSON.parse(localStorage.getItem('user'));

    let valid = true;

    if (!isValidEmail(email)) {
      document.getElementById('loginEmailError').style.display = "block";
      valid = false;
    } else {
      document.getElementById('loginEmailError').style.display = "none";
    }

    if (valid && storedUser && storedUser.email === email && storedUser.password === password) {
      showModal("Login Successful", "Welcome, " + storedUser.name + "!");
      document.getElementById('calcWelcome').innerText = "Welcome, " + storedUser.name + " üßÆ";
      showSection('calculatorSection');
    } else if (valid) {
      showModal("Login Failed", "Invalid email or password.");
    }
  });

  // Calculator
  function appendValue(val) { document.getElementById('result').value += val; }
  function clearResult() { document.getElementById('result').value = ''; }
  function calculateResult() {
    try {
      document.getElementById('result').value = eval(document.getElementById('result').value);
    } catch {
      showModal("Error", "Invalid expression entered.");
    }
  }

  // Logout
  function logout() {
    showSection('loginSection');
  }
</script>
</body>
</html>
